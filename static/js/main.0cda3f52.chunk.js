(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{358:function(e){e.exports={"District 1":[78653,78701,78702,78721,78722,78723,78724,78725,78752,78753,78754],"District 2":[78617,78744,78745,78747,78748],"District 3":[78702,78704,78721,78725,78741,78742,78745],"District 4":[78723,78751,78753,78758],"District 5":[78652,78704,78745,78747,78748],"District 6":[78664,78717,78726,78727,78728,78729,78730,78732,78750],"District 7":[78660,78727,78728,78753,78756,78757,78758,78759],"District 8":[78652,78735,78736,78737,78746,78748,78749],"District 9":[78701,78703,78704,78705,78722,78723,78751],"District 10":[78703,78730,78731,78746,78750,78759],Austin:[78653,78701,78702,78721,78722,78723,78724,78725,78752,78753,78754,78617,78744,78745,78747,78748,78704,78741,78742,78751,78758,78652,78664,78717,78726,78727,78728,78729,78730,78732,78750,78660,78756,78757,78759,78735,78736,78737,78746,78749,78703,78705,78731]}},392:function(e,t,a){e.exports=a.p+"static/media/coadowntown.59b43677.jpg"},398:function(e,t,a){e.exports=a(664)},662:function(e,t,a){},664:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(62),i=a(35),o=a(31),c=a(33),s=a(363),u=a(364),m=a.n(u),p=a(54),h={count:0,isIncrementing:!1,isDecrementing:!1},d={open:!0},g=function(){return function(e){e({type:"modal/CHANGE_MODAL"})}},f={filterDates:null},E=function(e){var t=e.dates;return console.log("change filter",t),function(e){e({type:"dates/CHANGE_FILTER_DATES",payload:t})}},b=Object(c.c)({counter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;switch((arguments.length>1?arguments[1]:void 0).type){case"counter/INCREMENT_REQUESTED":return Object(p.a)({},e,{isIncrementing:!0});case"counter/INCREMENT":return Object(p.a)({},e,{count:e.count+1,isIncrementing:!e.isIncrementing});case"counter/DECREMENT_REQUESTED":return Object(p.a)({},e,{isDecrementing:!0});case"counter/DECREMENT":return Object(p.a)({},e,{count:e.count-1,isDecrementing:!e.isDecrementing});default:return e}},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;switch((arguments.length>1?arguments[1]:void 0).type){case"modal/CHANGE_MODAL":return Object(p.a)({},e,{open:!1});default:return e}},dates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"dates/CHANGE_FILTER_DATES":return console.log("hello"),Object(p.a)({},e,{filterDates:t.payload});default:return e}}}),v=m()({basename:"/austin-campaign-finance-expenditures/"}),y=[s.a,Object(o.routerMiddleware)(v)],O=c.d.apply(void 0,[c.a.apply(void 0,y)].concat([])),C=Object(c.e)(Object(o.connectRouter)(v)(b),{},O),j=a(74),k=a(16),D=a(17),w=a(19),_=a(18),x=a(20),S=a(666),P=a(209),A=a.n(P),z=a(113),I=a.n(z),R=a(352),F=a(343),N=a(147),M=a(354);M.a.initialize("UA-131186037-1");var T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=function(e){M.a.set(Object(p.a)({page:e},t)),M.a.pageview(e)};return function(t){function n(){return Object(k.a)(this,n),Object(w.a)(this,Object(_.a)(n).apply(this,arguments))}return Object(x.a)(n,t),Object(D.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.location.pathname+this.props.location.search;a(e)}},{key:"componentDidUpdate",value:function(e){var t=e.location.pathname+e.location.search,n=this.props.location.pathname+this.props.location.search;t!==n&&a(n)}},{key:"render",value:function(){return r.a.createElement(e,this.props)}}]),n}(n.Component)},L=a(270),H=a(328),G=a(136),Y=function(e){function t(){var e,a;Object(k.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(w.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={open:!0,notes:null},a.getData=function(){A.a.get("https://raw.githubusercontent.com/ZHamburglar/austin-campaign-finance-expenditures/master/RELEASENOTES.md").then(function(e){var t,n,r=e.data.replace(/(\r\n|\n|\r)/g,"").split("### "),l=[];for(t=1;t<r.length;t++){var i=r[t].split("* "),o=Object.assign({});o.version=i[0];var c=[];for(n=1;n<i.length;n++)c.push(i[n]);o.notes=c,l.push(o)}a.setState({notes:l}),console.log("response",e.data,r)}).catch(function(e){console.error(e)})},a.show=function(){a.setState({open:!0})},a.close=function(){a.setState({open:!1})},a}return Object(x.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this.props.open;return this.state.notes?r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,{dimmer:"blurring",open:e,onClose:this.props.changeModal},r.a.createElement(L.a.Header,null,"Update Notes"),r.a.createElement(L.a.Content,{style:{maxHeight:"40vh",overflowY:"scroll"}},this.state.notes.map(function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(L.a.Description,null,r.a.createElement(H.a,null,"Version ",e.version),e.notes.map(function(t,a){return r.a.createElement("div",{key:e.version+a},r.a.createElement("p",null,"\u2022 ",t))}),r.a.createElement("br",null)))})),r.a.createElement(L.a.Actions,null,r.a.createElement(G.a,{positive:!0,icon:"checkmark",labelPosition:"right",content:"Good to know",onClick:this.close})))):r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,{dimmer:"blurring",open:e,onClose:this.props.changeModal},r.a.createElement(L.a.Header,null,"Update Notes"),"Update Notes",r.a.createElement(L.a.Actions,null,r.a.createElement(G.a,{positive:!0,icon:"checkmark",labelPosition:"right",content:"Good to know",onClick:this.close}))))}}]),t}(n.Component),$=Object(i.connect)(function(e){return{open:e.modal.open}},function(e){return Object(c.b)({changeModal:g},e)})(Y),V=a(353),B=a.n(V),U=a(29),W=a.n(U),X=a(375),J=a.n(X),Q=a(142),Z=a(143),q=a(43),K=a(44);function ee(){var e=Object(q.a)(["\n  \tpadding: 0 1em;\n\t    font-weight: 900;\n\n  \tfont-family: 'Shrikhand', cursive;\n\tfont-size: 2rem;\n    background: #e74c3c;\n    background: linear-gradient(to bottom, "," 0%, "," 33%, "," 33%, "," 66%,"," 66%,"," 100%);\n    background-repeat: repeat;\n    background-size: 100% 100%;\n    color: transparent;\n    -webkit-background-clip: text;\n    background-clip: text;\n    animation: "," 100s linear 1s 1000;\n"]);return ee=function(){return e},e}function te(){var e=Object(q.a)(["\n\tfont-family: 'Work Sans', sans-serif;\n  \ttext-transform: uppercase;\n\tfont-weight: 900;\n    color: ",";\n"]);return te=function(){return e},e}function ae(){var e=Object(q.a)(["\n\tfrom {\n\t\tbackground-position: 0em 0em;  \n\t}\n\n\tto {\n\t\tbackground-position: 100em 100em;\n\t}\n"]);return ae=function(){return e},e}var ne="#3498db",re="#fff",le="#e74c3c",ie=Object(K.b)(ae()),oe=K.a.div(te(),ne),ce=K.a.a(ee(),ne,ne,re,re,le,le,ie),se=function(e){function t(){return Object(k.a)(this,t),Object(w.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(oe,null,"Register to"),r.a.createElement(ce,{href:"https://www.votetexas.gov/register-to-vote/"},"Vote"))}}]),t}(n.Component);function ue(){var e=Object(q.a)(["\n\tcolor: black;\n\ttext-shadow: -1px -1px 0 #FFF, 1px -1px 0 #FFF, -1px 1px 0 #FFF, 1px 1px 0 #FFF;\n"]);return ue=function(){return e},e}function me(){var e=Object(q.a)(["\n\tcolor: white;\n\ttext-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;\n"]);return me=function(){return e},e}function pe(){var e=Object(q.a)(["\n\tdisplay: flex;\n\ttext-align: center;\n\tjustify-content: center;\n"]);return pe=function(){return e},e}function he(){var e=Object(q.a)(["\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tflex-direction: column;\n\tcolor: blue;\n\twidth: calc(100%);\n"]);return he=function(){return e},e}var de=K.a.div(he()),ge=K.a.div(pe()),fe=K.a.div(me()),Ee=K.a.span(ue()),be=function(e){function t(){var e,a;Object(k.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(w.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={months:null,monthsString:null,days:null,daysString:null},a}return Object(x.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){this.getTime()}},{key:"getTime",value:function(){var e,t,a,n=W()("2019-11-05").diff(W()(),"milliseconds"),r=W.a.duration(n);r._data.years>0?(e=12*r._data.years+r._data.months,t="Months"):1===r._data.months?(e=r._data.months,t="Month"):(e=r._data.months,t="Months"),a=1===r._data.days?"Day":"Days",this.setState({months:e,monthsString:t,days:r._data.days,daysString:a})}},{key:"render",value:function(){var e=this.props,t=e.contributions,a=e.expenditures,n=e.council,l=e.PACS,i=e.individuals,o=e.entities,c=this.state,s=c.months,u=c.monthsString,m=c.days,p=c.daysString;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,{style:{height:"100%"}},r.a.createElement(Q.a.Row,{style:{height:"50%"}},r.a.createElement(Q.a.Column,{mobile:16,tablet:8,computer:5},r.a.createElement(de,null,r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a,null,r.a.createElement(Z.a.Value,null,r.a.createElement(fe,null,r.a.createElement(B.a,{end:i,delay:.3,duration:2.75}))),r.a.createElement(Z.a.Label,null,r.a.createElement(Ee,null,"Individuals")))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a,null,r.a.createElement(Z.a.Value,null,r.a.createElement(fe,null,r.a.createElement(B.a,{end:o,delay:.3,duration:2.75}))),r.a.createElement(Z.a.Label,null,r.a.createElement(Ee,null,"Entities")))))),r.a.createElement(Q.a.Column,{mobile:16,tablet:8,computer:5},r.a.createElement(de,null,r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a,null,r.a.createElement(Z.a.Value,null,r.a.createElement(fe,null,r.a.createElement(B.a,{end:n,delay:.3,duration:2.75}))),r.a.createElement(Z.a.Label,null,r.a.createElement(Ee,null,"Council")))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a,null,r.a.createElement(Z.a.Value,null,r.a.createElement(fe,null,r.a.createElement(B.a,{end:l,delay:.3,duration:2.75}))),r.a.createElement(Z.a.Label,null,r.a.createElement(Ee,null,"PACS")))))),r.a.createElement(Q.a.Column,{mobile:16,tablet:8,computer:6},r.a.createElement(de,null,r.a.createElement("div",null,r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a,null,r.a.createElement(Z.a.Value,null,r.a.createElement(fe,null,s)),r.a.createElement(Z.a.Label,null,r.a.createElement(Ee,null,u))),r.a.createElement(Z.a,null,r.a.createElement(Z.a.Value,null,r.a.createElement(fe,null,m)),r.a.createElement(Z.a.Label,null,r.a.createElement(Ee,null,p)))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a,null,r.a.createElement(Z.a.Label,null,r.a.createElement(Ee,null,"Until Next Election"))))),r.a.createElement(se,{name:"kevin"})))),r.a.createElement(Q.a.Row,{style:{height:"50%"}},r.a.createElement(Q.a.Column,{mobile:16,tablet:8,computer:5},r.a.createElement(de,null,r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a,null,r.a.createElement(Z.a.Value,null,r.a.createElement(fe,null,"22")),r.a.createElement(Z.a.Label,null,r.a.createElement(Ee,null,"Faves")))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a,null,r.a.createElement(Z.a.Value,null,r.a.createElement(fe,null,"22")),r.a.createElement(Z.a.Label,null,r.a.createElement(Ee,null,"Faves")))))),r.a.createElement(Q.a.Column,{mobile:16,tablet:8,computer:5},r.a.createElement(de,null,r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a,null,r.a.createElement(Z.a.Value,null,r.a.createElement(fe,null,r.a.createElement(B.a,{end:a,delay:.3,duration:2.75}))),r.a.createElement(Z.a.Label,null,r.a.createElement(Ee,null,"Expenditures")))),r.a.createElement(Z.a.Group,null,r.a.createElement(Z.a,null,r.a.createElement(Z.a.Value,null,r.a.createElement(fe,null,r.a.createElement(B.a,{end:t,delay:.3,duration:2.75}))),r.a.createElement(Z.a.Label,null,r.a.createElement(Ee,null,"Contributions")))))),r.a.createElement(Q.a.Column,{mobile:16,tablet:8,computer:6},r.a.createElement(de,null,r.a.createElement(ge,{className:"standard"},r.a.createElement(J.a,{url:"http://media.swagit.com/austintx/atxn1/",width:"100%",height:"100%",display:"initial",position:"relative",allowFullScreen:!0})))))))}}]),t}(n.Component),ve=function(e){function t(){var e,a;Object(k.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(w.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,contributions:null,expenditures:null,loans:null,pledges:null,credit:null,council:null,PACS:null,individuals:null,entities:null},a}return Object(x.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){this.filterData(this.props.data,this.props.organizations)}},{key:"filterData",value:function(e,t){var a,n=0,r=0,l=0,i=0,o=0,c=t.Council.length,s=t.Organizations.length,u=new Set,m=new Set;for(a=0;a<e.length;a++)"Contribution"===e[a].transaction_type?n++:"Expenditure"===e[a].transaction_type?r++:"Loan"===e[a].transaction_type?l++:"Pledged Contribution"===e[a].transaction_type?i++:"Credit"===e[a].transaction_type&&o++,"Individual"===e[a].entity?u.add(e[a].transactor_name):"Entity"===e[a].entity&&m.add(e[a].transactor_name);var p=Array.from(u),h=Array.from(m);this.setState({contributions:n,expenditures:r,loans:l,pledges:i,credit:o,council:c,PACS:s,individuals:p.length,entities:h.length})}},{key:"render",value:function(){var e=this.props.open,t=this.state,a=t.contributions,n=t.expenditures,l=t.loans,i=t.pledges,o=t.credit,c=t.council,s=t.PACS,u=t.individuals,m=t.entities;return e?r.a.createElement(r.a.Fragment,null,r.a.createElement($,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement(be,{contributions:a,expenditures:n,loans:l,pledges:i,credit:o,council:c,PACS:s,individuals:u,entities:m}))}}]),t}(n.Component),ye=Object(i.connect)(function(e){return{open:e.modal.open}},null)(ve),Oe=function(e){function t(){return Object(k.a)(this,t),Object(w.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Settings Page"),r.a.createElement("p",null,"Change to settings Page"))}}]),t}(n.Component),Ce=a(378),je=a.n(Ce),ke=function(e){function t(){return Object(k.a)(this,t),Object(w.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App-header"},r.a.createElement("div",null,"Loading",r.a.createElement(je.a,{type:"cubes",color:"blue",height:100,width:200})))}}]),t}(n.Component),De=a(146),we=a(351),_e=function(e){function t(){var e,a;Object(k.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(w.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,name:null,dataRange:null,reports:null,pages:null,activePage:null,pageSize:3},a.handlePaginationChange=function(e,t){var n=t.activePage;return a.setState({activePage:n})},a}return Object(x.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){this.filterData()}},{key:"filterData",value:function(){var e=[],t=new Set;this.props.data.filter(function(e){return t.add(e.report_type+" '"+W()(e.transaction_date).format("YY")),null});var a=this.props.data.map(function(e){return W()(e.transaction_date)}),n=W.a.min(a).format("MM-DD-YYYY"),r=W.a.max(a).format("MM-DD-YYYY");e.push(n,r);var l=Array.from(t),i=Math.ceil(l.length/3),o=this.getNameFormat(this.props.name);this.setState({loading:!1,dataRange:e,reports:l,pages:i,activePage:1,name:o})}},{key:"getNameFormat",value:function(e){var t=e.split(", ");return t.length>1?(console.log("name",t),t[1]+" "+t[0]):e}},{key:"createReportsList",value:function(){var e,t=this.state.pageSize,a=[],n=this.state.activePage*t-t;if(e=this.state.activePage===this.state.pages?this.state.reports.length:this.state.activePage*t,console.log("x",e,"i",n),0===this.state.reports.length)a.push(r.a.createElement(De.a,{key:0},r.a.createElement("p",null,"None")));else if(this.state.activePage===this.state.pages){var l=e-n;for(console.log("j",l);n<e;n++)a.push(r.a.createElement(De.a,{key:n},r.a.createElement("p",null,this.state.reports[n])));for(;l<t;l++)a.push(r.a.createElement(De.a,{key:l},r.a.createElement("p",null," ")))}else for(;n<e;n++)a.push(r.a.createElement(De.a,{key:n},r.a.createElement("p",null,this.state.reports[n])));return r.a.createElement(De.a.Group,null,a)}},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.name,n=e.dataRange,l=e.pages,i=e.activePage;return t?r.a.createElement("div",null,"Loading"):t?r.a.createElement("div",null,"Not Loading"):r.a.createElement("div",{style:{color:"black"}},r.a.createElement(De.a.Group,{raised:!0},r.a.createElement(De.a,null,a),r.a.createElement(De.a,null,r.a.createElement("p",null,"Date Range:")),r.a.createElement(De.a.Group,{horizontal:!0},r.a.createElement(De.a,null,"First: ",n[0]),r.a.createElement(De.a,null,"Last: ",n[1]))),r.a.createElement(De.a.Group,{raised:!0},r.a.createElement(De.a,null,r.a.createElement("p",null,"Reports Included:")),this.createReportsList(),r.a.createElement(we.a,{activePage:i,onPageChange:this.handlePaginationChange,firstItem:null,lastItem:null,pointing:!0,secondary:!0,totalPages:l})))}}]),t}(n.Component),xe=a(213),Se=function(e){function t(){var e,a;Object(k.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(w.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,filteredData:null,total:null,mean:null,median:null},a}return Object(x.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){this.filterPie(this.props.data)}},{key:"filterPie",value:function(){var e=[0,0,0,0,0],t=0;this.props.data.filter(function(a){return a.transaction_amount>0&&a.transaction_amount<=100?(t+=parseInt(a.transaction_amount,10),e[0]++):a.transaction_amount>100&&a.transaction_amount<=200?(t+=parseInt(a.transaction_amount,10),e[1]++):a.transaction_amount>200&&a.transaction_amount<349?(t+=parseInt(a.transaction_amount,10),e[2]++):a.transaction_amount>349&&a.transaction_amount<=350?(t+=parseInt(a.transaction_amount,10),e[3]++):a.transaction_amount>350&&(t+=parseInt(a.transaction_amount,10),e[4]++),null});var a=parseFloat(t/this.props.data.length).toFixed(2);this.setState({loading:!1,filteredData:e,total:t,mean:a})}},{key:"render",value:function(){var e=this.state,t=e.filteredData,a=e.total,n=e.mean,l={labels:["$0-$100","$101-$200","$201-$349","$350","$350+"],datasets:[{data:t,backgroundColor:["#FF6384","#36A2EB","#FFCE56","purple","tomato"],hoverBackgroundColor:["#FF6384","#36A2EB","#FFCE56","purple","tomato"]}]};return r.a.createElement("div",{style:{color:"black"},className:"fill"},r.a.createElement(De.a.Group,{raised:!0},r.a.createElement(De.a,null,r.a.createElement("p",null,"Contribution Amount")),r.a.createElement(De.a.Group,{horizontal:!0},r.a.createElement(De.a,null,"Total: $",a),r.a.createElement(De.a,null,"Mean: $",n)),r.a.createElement(xe.a,{data:l,width:80,height:80,options:{legend:{display:!0,position:"bottom",labels:{fontColor:"red"}},tooltips:{enabled:!0}}})))}}]),t}(n.Component),Pe=a(358),Ae=function(e){function t(){var e,a;Object(k.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(w.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,noData:null,filteredData:null},a}return Object(x.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){this.props.data.length?this.filterPie(this.props.data):this.noDataPie(this.props.data)}},{key:"noDataPie",value:function(){this.setState({loading:!1,noData:"There isn't any data"})}},{key:"filterPie",value:function(){var e=[];this.props.data.filter(function(t){var a;if(void 0===t.transactor_zip_code)if(t.transactor_city.length>1){var n=t.transactor_city.split(", ");a=3===n.length?n[2].slice(0,5):2===n.length?n[1].slice(0,5):"Not Categorized"}else a="Not Categorized";else a=t.transactor_zip_code.slice(0,5);if(e.some(function(e){return e.zipCode===a})){var r=e.findIndex(function(e){return e.zipCode===a});e[r].count+=1,e[r].amount=e[r].amount+parseInt(t.transaction_amount,10)}else{var l;l=t.office_sought?t.office_sought:t.office_held?t.office_held:"Austin";var i=Object.assign({});i.zipCode=a,i.count=1,i.amount=parseInt(t.transaction_amount,10),i.district=l,e.push(i)}return null}),e.sort(function(e,t){return e.amount>t.amount?-1:e.amount<t.amount?1:0}),console.log("This?:",this),this.setState({loading:!1,filteredData:e})}},{key:"render",value:function(){var e=this.state,t=e.filteredData,a=e.noData,n=[],l=[],i=[];if(t){var o,c;for(c=t.length<8?t.length:8,o=0;o<c;o++)"undefined"==typeof Pe[t[o].district]?(l.push(t[o].zipCode),i.push(t[o].amount),n.push("red")):Pe[t[o].district].includes(parseInt(t[o].zipCode,10))?(l.push(t[o].zipCode),i.push(t[o].amount),n.push("green")):(l.push(t[o].zipCode),i.push(t[o].amount),n.push("red"));var s={labels:l,datasets:[{data:i,backgroundColor:n,hoverBackgroundColor:n}]};return r.a.createElement("div",{ref:this.myDiv,style:{color:"black"}},r.a.createElement(xe.b,{data:s,width:50,height:300,options:{legend:{display:!1},tooltips:{enabled:!0},maintainAspectRatio:!1}}))}return a?r.a.createElement("div",null,"There is no data"):r.a.createElement("div",null,"Loading")}}]),t}(n.Component),ze=a(336);function Ie(){var e=Object(q.a)(["\n    font-size: 18px;\n"]);return Ie=function(){return e},e}var Re=K.a.div(Ie()),Fe=function(e){function t(){var e,a;Object(k.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(w.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,name:null,pages:null,activePage:null,topContributors:null,pageSize:5},a.handlePaginationChange=function(e,t){var n=t.activePage;return a.setState({activePage:n})},a}return Object(x.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){this.filterData()}},{key:"filterData",value:function(){var e=this.state.pageSize,t=this.props.entity,a=[];this.props.data.filter(function(e){return"Individual"===e.entity&&"Individuals"===t?(a.push(e),!0):"Entity"===e.entity&&"Organizations"===t&&(a.push(e),!0)});var n=a.sort(function(e,t){return t.transaction_amount-e.transaction_amount}).slice(0,20),r=Math.ceil(n.length/e);this.setState({loading:!1,activePage:1,pages:r,topContributors:n})}},{key:"roundTransaction",value:function(e){return parseInt(e,10).toFixed(2)}},{key:"createContributionList",value:function(){var e,t=this.state.pageSize,a=[],n=this.state.activePage*t-t;if(e=this.state.activePage===this.state.pages?this.state.topContributors.length:this.state.activePage*t,0===this.state.topContributors.length)a.push(r.a.createElement(ze.a.Row,{key:0},r.a.createElement(ze.a.Cell,null),r.a.createElement(ze.a.Cell,{textAlign:"right"},"None")));else if(this.state.activePage===this.state.pages){for(var l=e-n;n<e;n++){var i=this.roundTransaction(this.state.topContributors[n].transaction_amount);a.push(r.a.createElement(ze.a.Row,{key:n},r.a.createElement(ze.a.Cell,null,this.state.topContributors[n].transactor_name),r.a.createElement(ze.a.Cell,{textAlign:"right"},"$",i)))}for(;l<t;l++)a.push(r.a.createElement(ze.a.Row,{key:l},r.a.createElement(ze.a.Cell,null),r.a.createElement(ze.a.Cell,{textAlign:"right"},"None")))}else for(;n<e;n++){var o=this.roundTransaction(this.state.topContributors[n].transaction_amount);a.push(r.a.createElement(ze.a.Row,{key:n},r.a.createElement(ze.a.Cell,{onClick:function(){return console.log("Clicked:")}},this.state.topContributors[n].transactor_name),r.a.createElement(ze.a.Cell,{textAlign:"right"},"$",o)))}return r.a.createElement(ze.a.Body,{className:"standard"},a)}},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.pages,n=e.activePage,l=this.props.entity;return t?r.a.createElement("div",null,"Loading"):t?r.a.createElement("div",null,"Not Loading"):r.a.createElement("div",{style:{color:"black"}},r.a.createElement(De.a.Group,{raised:!0},r.a.createElement(De.a,null,r.a.createElement("p",null,"Top Contributing ",l)),r.a.createElement(De.a.Group,null,r.a.createElement(Re,null,r.a.createElement(ze.a,{stackable:!0,selectable:!0,fixed:!0,singleLine:!0},r.a.createElement(ze.a.Header,null,r.a.createElement(ze.a.Row,null,r.a.createElement(ze.a.HeaderCell,{className:"twelve wide"},"Contributor"),r.a.createElement(ze.a.HeaderCell,{textAlign:"right"},"Amount"))),this.createContributionList()))),r.a.createElement(we.a,{activePage:n,onPageChange:this.handlePaginationChange,firstItem:null,lastItem:null,pointing:!0,secondary:!0,totalPages:a})))}}]),t}(n.Component),Ne=Object(i.connect)(null,function(e){return Object(c.b)({changepage:function(e,t){return Object(o.push)({pathname:"/"+e+"/"+t})}},e)})(Fe),Me=function(e){function t(){var e,a;Object(k.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(w.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,filteredData:null,zipCodes:null,name:null},a}return Object(x.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){this.filterData(this.props.match.params.org)}},{key:"componentWillReceiveProps",value:function(e){console.log("props change??",e.selectedOrganization)}},{key:"filterData",value:function(e){var t=this.props.filterDates,a=[];a.Contributions=[],a.Expenditures=[],this.props.data.filter(function(t){return t.filer_name===e&&"Contribution"===t.transaction_type?a.Contributions.push(t):t.filer_name===e&&"Expenditure"===t.transaction_type&&a.Expenditures.push(t),null}),t?this.setState({name:this.props.match.params.org},this.filterByDate(a)):this.setState({name:this.props.match.params.org,loading:!1,filteredData:a.Contributions})}},{key:"filterByDate",value:function(e){console.log("huh?");var t=this.props.filterDates,a=[];e.Contributions.filter(function(e){return W()(e.transaction_date).isSameOrAfter(t[0])&&W()(e.transaction_date).isSameOrBefore(t[1])&&a.push(e),null}),this.setState({loading:!1,filteredData:a})}},{key:"createZipCodeList",value:function(e){var t=[];this.props.data.filter(function(a){var n;if(a.filer_name===e&&"Contribution"===a.transaction_type)if(n=void 0===a.transactor_zip_code?"Not Categorized":a.transactor_zip_code.slice(0,5),t.some(function(e){return e.zipCode===n})){var r=t.findIndex(function(e){return e.zipCode===n});t[r].count+=1,t[r].amount=t[r].amount+parseInt(a.transaction_amount,10)}else{var l=Object.assign({});l.zipCode=n,l.count=1,l.amount=parseInt(a.transaction_amount,10),t.push(l)}return null}),this.setState({loading:!1,zipCodes:t})}},{key:"render",value:function(){var e=this.state,t=e.filteredData,a=e.name;return this.state.loading?r.a.createElement("div",null,r.a.createElement(ke,null)):t?r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,{style:{height:"100%"}},r.a.createElement(Q.a.Row,{style:{height:"50%"}},r.a.createElement(Q.a.Column,{mobile:16,tablet:8,computer:5},r.a.createElement(_e,{data:this.state.filteredData,name:a})),r.a.createElement(Q.a.Column,{mobile:16,tablet:8,computer:5},r.a.createElement(Se,{data:this.state.filteredData})),r.a.createElement(Q.a.Column,{mobile:16,tablet:8,computer:6},r.a.createElement(Se,{data:this.state.filteredData}))),r.a.createElement(Q.a.Row,{style:{height:"50%"}},r.a.createElement(Q.a.Column,{mobile:16,tablet:8,computer:5},r.a.createElement(Ne,{data:this.state.filteredData,entity:"Individuals"})),r.a.createElement(Q.a.Column,{mobile:16,tablet:8,computer:5},r.a.createElement(Ne,{data:this.state.filteredData,entity:"Organizations"})),r.a.createElement(Q.a.Column,{mobile:16,tablet:8,computer:6},r.a.createElement(Ae,{data:this.state.filteredData}))))):r.a.createElement(r.a.Fragment,null,"Something has gone wrong.")}}]),t}(n.Component),Te=Object(i.connect)(function(e){return{filterDates:e.dates.filterDates}},null)(Me),Le=function(e){function t(){return Object(k.a)(this,t),Object(w.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.person,a=e.contNum,n=e.contTotal,l=e.location;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,{style:{height:"100%"}},r.a.createElement(Q.a.Row,{style:{height:"50%"}},r.a.createElement(Q.a.Column,{mobile:16,tablet:8,computer:8},r.a.createElement(De.a.Group,{raised:!0,className:"fill"},r.a.createElement(De.a,null,t),r.a.createElement(De.a.Group,{horizontal:!0},r.a.createElement(De.a,null,l[0].city),r.a.createElement(De.a,null,l[0].zipcode)),r.a.createElement(ze.a,null,r.a.createElement(ze.a.Body,{className:"standard"},r.a.createElement(ze.a.Row,null,r.a.createElement(ze.a.Cell,null,"Number of Contributions"),r.a.createElement(ze.a.Cell,null,a)),r.a.createElement(ze.a.Row,null,r.a.createElement(ze.a.Cell,null,"Total Contributions"),r.a.createElement(ze.a.Cell,null,"$",n)))))),r.a.createElement(Q.a.Column,{mobile:16,tablet:8,computer:8},this.props.person)),r.a.createElement(Q.a.Row,{style:{height:"50%"}},r.a.createElement(Q.a.Column,{mobile:16,tablet:8,computer:8},this.props.person),r.a.createElement(Q.a.Column,{mobile:16,tablet:8,computer:8},this.props.person))))}}]),t}(n.Component),He=function(e){function t(){var e,a;Object(k.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(w.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={filteredData:null,person:null,contNum:null,contTotal:null,location:null},a}return Object(x.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){this.filterData(this.props.match.params.user)}},{key:"filterData",value:function(e){var t,a=0,n=[],r=[];this.props.data.filter(function(t){if(t.transactor_name===e){n.push(t),a+=parseInt(t.transaction_amount,10);var l=t.transactor_city.split(", "),i=Object.assign({});i.city=l[0]+", "+l[1],i.zipcode=l[2],r.push(i)}return null});var l=e.split(", ").reverse(),i=l[0]+" "+l[1];t=n.length,this.setState({filteredData:n,person:i,contNum:t,contTotal:a,location:r})}},{key:"render",value:function(){var e=this.state,t=e.filteredData,a=e.person,n=e.contNum,l=e.contTotal,i=e.location;return t?r.a.createElement(Le,{data:t,person:a,contNum:n,contTotal:l,location:i}):r.a.createElement(r.a.Fragment,null)}}]),t}(n.Component),Ge=a(337),Ye=a(110),$e=a(215),Ve=a(27),Be=a.n(Ve),Ue=a(342),We=function(e){function t(){var e,a;Object(k.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(w.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={searchObject:null},a.resetComponent=function(){return a.setState({isLoading:!1,results:[],value:""})},a.handleResultSelect=function(e,t){var n=t.result;a.setState({value:n.title}),a.props.changepage(n.org,n.title)},a.handleSearchChange=function(e,t){var n=t.value;a.setState({isLoading:!0,value:n}),setTimeout(function(){if(a.state.value.length<1)return a.resetComponent();var e=new RegExp(Be.a.escapeRegExp(a.state.value),"i"),t=function(t){return e.test(t.title)},n=Be.a.reduce(a.state.searchObject,function(e,a,n){var r=Be.a.filter(a.results,t);return r.length&&(e[n]={name:n,results:r}),e},{});a.setState({isLoading:!1,results:n})},300)},a}return Object(x.a)(t,e),Object(D.a)(t,[{key:"componentWillMount",value:function(){this.loadingResults(),this.resetComponent()}},{key:"loadingResults",value:function(){var e=Object.assign({name:"offices",results:this.props.office},{}),t=Object.assign({name:"contributor",results:this.props.contributors},{}),a=Object.assign({name:"Council",results:this.props.council},{}),n=Object.assign({name:"PACS",results:this.props.pacs},{}),r=Object.assign({Council:a,PAC:n,office:e,contributor:t});this.setState({searchObject:r})}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.value,n=e.results;return r.a.createElement(Ue.a,Object.assign({className:"searchDropdown",category:!0,loading:t,onResultSelect:this.handleResultSelect,onSearchChange:Be.a.debounce(this.handleSearchChange,500,{leading:!0}),results:n,value:a},this.props))}}]),t}(n.Component),Xe=Object(i.connect)(null,function(e){return Object(c.b)({changepage:function(e,t){return Object(o.push)({pathname:"/"+e+"/"+t})}},e)})(We),Je=function(e){function t(){var e,a;Object(k.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(w.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={searchinput:"",selectedOrganization:"",datesRange:""},a.handleSearchChange=function(e){a.setState({searchinput:e.target.value})},a.handleOrgChange=function(e,t){var n,r=a.state.datesRange.split(" - ");r.length>0&&r[0].length>0&&(n=I.a.stringify({from:r[0],to:r[1]})),a.props.changeOrgPage(t.value,n)},a.handleChange=function(e,t){var n=t.name,r=t.value,l=r.split(" - ");a.state.hasOwnProperty(n)&&a.setState(Object(j.a)({},n,r)),a.props.changeFilterDate({dates:l})},a.handlePusher=function(){a.state.visible&&a.setState({visible:!1})},a.handleToggle=function(){return a.setState({visible:!a.state.visible})},a}return Object(x.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{fixed:"top",borderless:!0,inverted:!0,className:"Navbar",style:{height:"5%"}},r.a.createElement(N.a.Item,{as:"a",header:!0},"Austin Political Tracker"),r.a.createElement(N.a.Item,{as:"a",onClick:this.props.changeHomePage},"Home"),r.a.createElement(Ge.a,{item:!0,simple:!0,text:"Council/PACS"},r.a.createElement(Ge.a.Menu,null,r.a.createElement(Ge.a.Item,null,r.a.createElement("i",{className:"dropdown icon"}),r.a.createElement("span",{className:"text"},"Office Holders"),r.a.createElement(Ge.a.Menu,{style:{minHeight:"200px",maxHeight:"600px",overflowX:"scroll"}},this.props.organizations.Council.map(function(t){return r.a.createElement(Ge.a.Item,{onClick:e.handleOrgChange,key:t.filer_name,value:t.filer_name},t.filer_name)}))),r.a.createElement(Ge.a.Item,null,r.a.createElement("i",{className:"dropdown icon"}),r.a.createElement("span",{className:"text"},"PACS"),r.a.createElement(Ge.a.Menu,{style:{minHeight:"200px",maxHeight:"600px",overflowX:"scroll"}},this.props.organizations.Organizations.map(function(t){return r.a.createElement(Ge.a.Item,{onClick:e.handleOrgChange,key:t.filer_name,value:t.filer_name},t.filer_name)}))))),r.a.createElement(N.a.Item,null,r.a.createElement(Xe,{office:this.props.office,contributors:this.props.contributors,pacs:this.props.newPACS,council:this.props.newCouncil})),r.a.createElement(Ge.a,{item:!0,simple:!0,icon:"filter"},r.a.createElement(Ge.a.Menu,null,r.a.createElement(Ge.a.Item,null,r.a.createElement($e.DatesRangeInput,{name:"datesRange",placeholder:"From - To",dateFormat:"MM-DD-YYYY",minDate:"01-10-2016",value:this.state.datesRange,iconPosition:"left",onChange:this.handleChange})))),r.a.createElement(N.a.Item,{as:"a",position:"right",onClick:this.props.changeSettingPage},r.a.createElement(Ye.a,{name:"cog"}),"Settings")))}}]),t}(n.Component),Qe=Object(i.connect)(null,function(e){return Object(c.b)({changeHomePage:function(){return Object(o.push)({pathname:"/",search:"?filter=homepagefilter"})},changeSettingPage:function(){return Object(o.push)("/settings")},changeOrgPage:function(e,t){return Object(o.push)({pathname:"/council/"+e,search:t,state:{hello:"state value"}})},changeFilterDate:E},e)})(Je),Ze=function(e){function t(){return Object(k.a)(this,t),Object(w.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{fixed:"top",inverted:!0},r.a.createElement(N.a.Item,{onClick:this.props.handleToggle},r.a.createElement(Ye.a,{name:"sidebar"})),r.a.createElement(N.a.Item,{as:"a",header:!0},"Austin Political Tracker"),r.a.createElement(N.a.Item,{as:"a",position:"right",onClick:this.props.changeSettingPage},r.a.createElement(Ye.a,{name:"cog"}))))}}]),t}(n.Component),qe=Object(i.connect)(null,function(e){return Object(c.b)({changeHomePage:function(){return Object(o.push)({pathname:"/",search:"?filter=homepagefilter"})},changeSettingPage:function(){return Object(o.push)("/settings")},changeOrgPage:function(e,t){return Object(o.push)({pathname:"/council/"+e,search:t,state:{hello:"state value"}})},changeFilterDate:E},e)})(Ze),Ke=a(341),et=function(e){function t(){var e,a;Object(k.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(w.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,searchinput:"",selectedOrganization:"",datesRange:"",visible:!1},a.handleSearchChange=function(e){a.setState({searchinput:e.target.value})},a.handleOrgChange=function(e,t){var n,r=a.state.datesRange.split(" - ");r.length>0&&r[0].length>0&&(n=I.a.stringify({from:r[0],to:r[1]})),a.props.changeOrgPage(t.value,n)},a.handleChange=function(e,t){var n=t.name,r=t.value,l=r.split(" - ");a.state.hasOwnProperty(n)&&a.setState(Object(j.a)({},n,r)),a.props.changeFilterDate({dates:l})},a.handlePusher=function(){a.state.visible&&a.setState({visible:!1})},a}return Object(x.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a.Item,{as:"a",onClick:this.props.changeHomePage},r.a.createElement(Ye.a,{name:"home"}),"Home"),r.a.createElement(N.a.Item,null,r.a.createElement(Ke.a,{on:"click",position:"right center",trigger:r.a.createElement("div",null,"Council"),content:r.a.createElement(N.a,{vertical:!0,overlay:!0,style:{minHeight:"200px",maxHeight:"600px",overflowX:"scroll",position:"absolute"}},this.props.organizations.Council.map(function(t){return r.a.createElement(N.a.Item,{onClick:e.handleOrgChange,key:t.filer_name,value:t.filer_name},t.filer_name)}))})),r.a.createElement(N.a.Item,null,r.a.createElement(Ke.a,{on:"click",position:"right center",trigger:r.a.createElement("div",null,"PACS"),content:r.a.createElement(N.a,{vertical:!0,overlay:!0,style:{minHeight:"200px",maxHeight:"600px",overflowX:"scroll",position:"absolute",zIndex:"999999 !important"}},this.props.organizations.Organizations.map(function(t){return r.a.createElement(N.a.Item,{onClick:e.handleOrgChange,key:t.filer_name,value:t.filer_name},t.filer_name)}))})),r.a.createElement(N.a.Item,null,r.a.createElement(Xe,{office:this.props.office,contributors:this.props.contributors,pacs:this.props.newPACS,council:this.props.newCouncil})),r.a.createElement(N.a.Item,null,r.a.createElement(Ke.a,{on:"click",position:"right center",trigger:r.a.createElement(Ye.a,{name:"filter"}),content:r.a.createElement($e.DatesRangeInput,{name:"datesRange",placeholder:"From - To",dateFormat:"MM-DD-YYYY",minDate:"01-10-2016",value:this.state.datesRange,iconPosition:"left",onChange:this.handleChange})})))}}]),t}(n.Component),tt=Object(i.connect)(null,function(e){return Object(c.b)({changeHomePage:function(){return Object(o.push)({pathname:"/",search:"?filter=homepagefilter"})},changeSettingPage:function(){return Object(o.push)("/settings")},changeOrgPage:function(e,t){return Object(o.push)({pathname:"/council/"+e,search:t,state:{hello:"state value"}})},changeFilterDate:E},e)})(et),at=a(392),nt=a.n(at);function rt(){var e=Object(q.a)(["\n    background-color: rgba(66,87,102, .95);\n\theight: 95%;\n    width: 95%;\n\tposition: relative;\n\n\t@media (max-width:768px) {\n    \twidth: 98%;\n\t\theight: 100%;\n\t}\n"]);return rt=function(){return e},e}function lt(){var e=Object(q.a)(["\n\tposition: absolute;\n\tmargin-top: 5vh;\n\twidth: 100%;\n    height: 95%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    font-size: calc(10px + 2vmin);\n    color: white;\n\n\t@media (max-width : 768px) {\n\t\tmargin-top: 5%;\n\t\tposition: absolute;\n\t\theight: 100%;\n\t}\n"]);return lt=function(){return e},e}function it(){var e=Object(q.a)(["\n    text-align: center;\n    background-color: #425766;\n    background-image : url(",');\n    background-position: center;\n    background-size: cover;\n    background-repeat: repeat;\n    font-family: "Roboto";\n    min-height: 100vh;\n    width: 100%;\n\n\t@media (max-width : 768px) {\n\t\tmin-height: 100%\n\t\twidth: 100%;\n\t\tbackground-size: auto;\n\t}\n']);return it=function(){return e},e}var ot=K.a.div(it(),nt.a),ct=K.a.div(lt()),st=K.a.div(rt()),ut=function(e){function t(){var e,a;Object(k.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(w.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,data:null,organizations:null,contributors:null,office:null,newPACS:null,newCouncil:null,searchinput:"",selectedOrganization:"",datesRange:"",visible:!1},a.handleSearchChange=function(e){a.setState({searchinput:e.target.value})},a.handleOrgChange=function(e,t){var n,r=a.state.datesRange.split(" - ");r.length>0&&r[0].length>0&&(n=I.a.stringify({from:r[0],to:r[1]})),a.props.changeOrgPage(t.value,n)},a.handleChange=function(e,t){var n=t.name,r=t.value,l=r.split(" - ");a.state.hasOwnProperty(n)&&a.setState(Object(j.a)({},n,r)),a.props.changeFilterDate({dates:l})},a.handlePusher=function(){a.state.visible&&a.setState({visible:!1})},a.handleToggle=function(){return a.setState({visible:!a.state.visible})},a}return Object(x.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){this.getData(),console.log("this props",this.props)}},{key:"getData",value:function(){var e=this;A.a.get("https://data.austintexas.gov/resource/asyh-u6ja.json?$limit=10000").then(function(t){var a=[],n=[],r=new Set,l=new Set;n.Council=[],n.Organizations=[],t.data.filter(function(e){return a.findIndex(function(t){return t.filer_name===e.filer_name})<=-1&&a.push({filer_name:e.filer_name,form:e.form}),null}),t.data.filter(function(e){return"Individual"===e.entity?r.add(e.transactor_name):"Entity"===e.entity&&l.add(e.transactor_name),null}),a.sort(function(e,t){return e.filer_name<t.filer_name?-1:e.filer_name>t.filer_name?1:0}),a.filter(function(e){return"C/OH - Candidate/Officeholder Campaign Finance Report"===e.form?n.Council.push(e):n.Organizations.push(e),null});var i=Array.from(r),o=Array.from(l),c=i.map(function(e){return{title:e,org:"person"}}),s=o.map(function(e){return{title:e,org:"council"}}),u=n.Council.map(function(e){return{title:e.filer_name,org:"council"}}),m=n.Organizations.map(function(e){return{title:e.filer_name,org:"council"}});e.setState({loading:!1,data:t.data,organizations:n,contributors:c,office:s,newPACS:m,newCouncil:u})}).catch(function(e){console.error(e)})}},{key:"render",value:function(){var e=this,t=this.state.visible;return this.state.loading?r.a.createElement("div",null,r.a.createElement(R.a,R.a.onlyMobile,r.a.createElement(ke,null)),r.a.createElement(R.a,{minWidth:R.a.onlyTablet.minWidth},r.a.createElement(ke,null))):this.state.data?r.a.createElement("div",null,r.a.createElement(R.a,R.a.onlyMobile,r.a.createElement(F.a.Pushable,null,r.a.createElement(F.a,{as:N.a,animation:"overlay",icon:"labeled",inverted:!0,vertical:!0,visible:t},r.a.createElement(tt,{organizations:this.state.organizations,newPACS:this.state.newPACS,newCouncil:this.state.newCouncil,office:this.state.office,contributors:this.state.contributors})),r.a.createElement(F.a.Pusher,{dimmed:t,onClick:this.handlePusher,style:{minHeight:"100vh"}},r.a.createElement(qe,{handleToggle:this.handleToggle}),r.a.createElement(ot,null,r.a.createElement(ct,null,r.a.createElement(st,null,r.a.createElement(S.a,{exact:!0,path:"/",component:T(function(t){return r.a.createElement(ye,Object.assign({},t,{data:e.state.data,organizations:e.state.organizations}))})}),r.a.createElement(S.a,{exact:!0,path:"/council/:org",component:T(function(t){return r.a.createElement(Te,Object.assign({},t,{data:e.state.data}))})}),r.a.createElement(S.a,{exact:!0,path:"/person/:user",component:T(function(t){return r.a.createElement(He,Object.assign({},t,{data:e.state.data}))})}),r.a.createElement(S.a,{exact:!0,path:"/settings",component:T(Oe)}))))))),r.a.createElement(R.a,{minWidth:R.a.onlyTablet.minWidth},r.a.createElement(Qe,{organizations:this.state.organizations,newPACS:this.state.newPACS,newCouncil:this.state.newCouncil,office:this.state.office,contributors:this.state.contributors}),r.a.createElement(ot,null,r.a.createElement(ct,null,r.a.createElement(st,null,r.a.createElement(S.a,{exact:!0,path:"/",component:T(function(t){return r.a.createElement(ye,Object.assign({},t,{data:e.state.data,organizations:e.state.organizations}))})}),r.a.createElement(S.a,{exact:!0,path:"/council/:org",component:T(function(t){return r.a.createElement(Te,Object.assign({},t,{data:e.state.data}))})}),r.a.createElement(S.a,{exact:!0,path:"/person/:user",component:T(function(t){return r.a.createElement(He,Object.assign({},t,{data:e.state.data}))})}),r.a.createElement(S.a,{exact:!0,path:"/settings",component:T(Oe)})))))):r.a.createElement("div",null,"This is Broken! Please Refresh")}}]),t}(n.Component),mt=(a(660),a(662),document.querySelector("#root"));Object(l.render)(r.a.createElement(i.Provider,{store:C},r.a.createElement(o.ConnectedRouter,{history:v},r.a.createElement(ut,null))),mt)}},[[398,2,1]]]);
//# sourceMappingURL=main.0cda3f52.chunk.js.map
(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{348:function(e,t,n){e.exports=n(609)},607:function(e,t,n){},609:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(28),c=n(87),i=n(66),l=n(61),u=n(311),s=n(312),m=n.n(s),d=n(128),p={count:0,isIncrementing:!1,isDecrementing:!1},f=function(){return function(e){e({type:"counter/INCREMENT_REQUESTED"}),e({type:"counter/INCREMENT"})}},E=function(){return function(e){return e({type:"counter/INCREMENT_REQUESTED"}),setTimeout(function(){e({type:"counter/INCREMENT"})},3e3)}},h=function(){return function(e){e({type:"counter/DECREMENT_REQUESTED"}),e({type:"counter/DECREMENT"})}},g=function(){return function(e){return e({type:"counter/DECREMENT_REQUESTED"}),setTimeout(function(){e({type:"counter/DECREMENT"})},3e3)}},b=Object(l.c)({counter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;switch((arguments.length>1?arguments[1]:void 0).type){case"counter/INCREMENT_REQUESTED":return Object(d.a)({},e,{isIncrementing:!0});case"counter/INCREMENT":return Object(d.a)({},e,{count:e.count+1,isIncrementing:!e.isIncrementing});case"counter/DECREMENT_REQUESTED":return Object(d.a)({},e,{isDecrementing:!0});case"counter/DECREMENT":return Object(d.a)({},e,{count:e.count-1,isDecrementing:!e.isDecrementing});default:return e}}}),v=m()({basename:"/austin-campaign-finance-expenditures/"}),C=[u.a,Object(i.routerMiddleware)(v)],O=l.d.apply(void 0,[l.a.apply(void 0,C)].concat([])),y=Object(l.e)(Object(i.connectRouter)(v)(b),{},O),j=n(55),D=n(56),_=n(59),k=n(57),I=n(60),N=n(611),R=n(313),w=n.n(R),T=Object(c.connect)(function(e){var t=e.counter;return{count:t.count,isIncrementing:t.isIncrementing,isDecrementing:t.isDecrementing}},function(e){return Object(l.b)({increment:f,incrementAsync:E,decrement:h,decrementAsync:g,changePage:function(){return Object(i.push)("/about-us")}},e)})(function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,"Work In Progress"),r.a.createElement("p",null,"Count: ",e.count),r.a.createElement("p",null,r.a.createElement("button",{onClick:e.increment},"Increment"),r.a.createElement("button",{onClick:e.incrementAsync,disabled:e.isIncrementing},"Increment Async")),r.a.createElement("p",null,r.a.createElement("button",{onClick:e.decrement},"Decrement"),r.a.createElement("button",{onClick:e.decrementAsync,disabled:e.isDecrementing},"Decrement Async")),r.a.createElement("p",null,r.a.createElement("button",{onClick:function(){return e.changePage()}},"Go to about page via redux")))}),x=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"About Page"),r.a.createElement("p",null,"Change to settings Page"))},z=n(174),M=n(314),A=n.n(M),S=function(e){function t(){return Object(j.a)(this,t),Object(_.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App-header"},r.a.createElement("div",null,"Loading",r.a.createElement(A.a,{type:"cubes",color:"blue",height:100,width:200})))}}]),t}(a.Component),P=n(315),F=function(e){function t(){var e,n;Object(j.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(_.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={filteredData:null,loading:!0},n}return Object(I.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){this.filterPie(this.props.data)}},{key:"filterPie",value:function(){console.log("Pie: ",this.props.data.Contributions);var e=[0,0,0,0,0];this.props.data.Contributions.filter(function(t){return t.transaction_amount>0&&t.transaction_amount<=100?e[0]++:t.transaction_amount>100&&t.transaction_amount<=200?e[1]++:t.transaction_amount>200&&t.transaction_amount<349?e[2]++:t.transaction_amount>349&&t.transaction_amount<=350?e[3]++:t.transaction_amount>350&&e[4]++,null}),console.log("filtered data",e),this.setState({loading:!1,filteredData:e})}},{key:"render",value:function(){var e={labels:["$0-$100","$101-$200","$201-$349","$350","$350+"],datasets:[{data:this.state.filteredData,backgroundColor:["#FF6384","#36A2EB","#FFCE56","purple","tomato"],hoverBackgroundColor:["#FF6384","#36A2EB","#FFCE56","purple","tomato"]}]};return r.a.createElement("div",{style:{backgroundColor:"black"}},r.a.createElement("p",null,"Contribution Amount"),r.a.createElement(P.a,{data:e,width:200,height:200,options:{legend:{display:!0},tooltips:{enabled:!0}}}))}}]),t}(a.Component),$=(a.Component,function(e){function t(){var e,n;Object(j.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(_.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,filteredData:null,zipCodes:null},n}return Object(I.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){console.log("council",this),this.filterData(this.props.match.params.org)}},{key:"componentWillReceiveProps",value:function(e){console.log("props change??",e.selectedOrganization)}},{key:"filterData",value:function(e){var t=[];t.Contributions=[],t.Expenditures=[],this.props.data.filter(function(n){return n.filer_name===e&&"Contribution"===n.transaction_type?t.Contributions.push(n):n.filer_name===e&&"Expenditure"===n.transaction_type&&t.Expenditures.push(n),null}),this.setState({loading:!1,filteredData:t})}},{key:"createZipCodeList",value:function(e){var t=[];this.props.data.filter(function(n){var a;if(n.filer_name===e&&"Contribution"===n.transaction_type)if(a=void 0===n.transactor_zip_code?"Not Categorized":n.transactor_zip_code.slice(0,5),t.some(function(e){return e.zipCode===a})){var r=t.findIndex(function(e){return e.zipCode===a});t[r].count+=1,t[r].amount=t[r].amount+parseInt(n.transaction_amount,10)}else{var o=Object.assign({});o.zipCode=a,o.count=1,o.amount=parseInt(n.transaction_amount,10),t.push(o)}return null}),console.log("zip codes",t),this.setState({loading:!1,zipCodes:t})}},{key:"render",value:function(){return this.state.loading?r.a.createElement("div",{className:"App"},r.a.createElement(S,null)):this.state.filteredData?r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{columns:3},r.a.createElement(z.a.Row,null,r.a.createElement(z.a.Column,null,r.a.createElement(F,{data:this.state.filteredData})),r.a.createElement(z.a.Column,null,r.a.createElement(F,{data:this.state.filteredData})),r.a.createElement(z.a.Column,null,r.a.createElement(F,{data:this.state.filteredData}))),r.a.createElement(z.a.Row,null,r.a.createElement(z.a.Column,null,"HEllo"),r.a.createElement(z.a.Column,null,"Hello"),r.a.createElement(z.a.Column,null,"Hello")))):r.a.createElement(r.a.Fragment,null,"Something has gone wrong.")}}]),t}(a.Component)),H=n(188),Q=n(610),U=n(204),B=n(298),Y=n(317),J=function(e){function t(){var e,n;Object(j.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(_.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,searchinput:"",selectedOrganization:"",datesRange:""},n.handleSearchChange=function(e){n.setState({searchinput:e.target.value})},n.handleOrgChange=function(e,t){n.props.changePage(t.value)},n.handleChange=function(e,t){var a=t.name,r=t.value;n.state.hasOwnProperty(a)&&n.setState(Object(H.a)({},a,r))},n.submitSearch=function(e){var t=n.getName(n.state.data,"expenditure_type",n.state.searchinput);n.setState({filteredData:t}),e.preventDefault()},n}return Object(I.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a,{fixed:"top",borderless:!0,inverted:!0,className:"Navbar"},r.a.createElement(U.a.Item,{as:"a",header:!0},"Austin Political Tracker"),r.a.createElement(U.a.Item,{as:"a"},"Home"),r.a.createElement(B.a,{item:!0,simple:!0,text:"Dropdown"},r.a.createElement(B.a.Menu,null,r.a.createElement(B.a.Item,null,r.a.createElement("i",{className:"dropdown icon"}),r.a.createElement("span",{className:"text"},"Office Holders"),r.a.createElement(B.a.Menu,null,this.props.organizations.Council.map(function(t){return r.a.createElement(B.a.Item,{onClick:e.handleOrgChange,key:t.filer_name,value:t.filer_name},t.filer_name)}))),r.a.createElement(B.a.Item,null,r.a.createElement("i",{className:"dropdown icon"}),r.a.createElement("span",{className:"text"},"PACS"),r.a.createElement(B.a.Menu,null,this.props.organizations.Organizations.map(function(t){return r.a.createElement(B.a.Item,{onClick:e.handleOrgChange,key:t.filer_name,value:t.filer_name},t.filer_name)}))))),r.a.createElement(U.a.Item,null,r.a.createElement(Y.DatesRangeInput,{name:"datesRange",placeholder:"From - To",dateFormat:"MM-DD-YYYY",minDate:"01-10-2016",value:this.state.datesRange,iconPosition:"left",onChange:this.handleChange})),r.a.createElement(Q.a,{to:"/"},"Home"),r.a.createElement(Q.a,{to:"/about-us"},"About"),r.a.createElement(U.a.Item,{position:"right"},"Settings")))}}]),t}(a.Component),L=Object(c.connect)(null,function(e){return Object(l.b)({changePage:function(e){return Object(i.push)("/council/"+e,{hello:"state value"})}},e)})(J),W=n(219),q=n(220);function G(){var e=Object(W.a)(["\n    background-color: rgba(66,87,102, .6);\n\theight: 95%;\n    width: 95%;\n\tpadding: 10px;\n"]);return G=function(){return e},e}function Z(){var e=Object(W.a)(["\n\tposition: absolute;\n\tmargin-top: 5vh;\n\twidth: 100%;\n    height: 95%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    font-size: calc(10px + 2vmin);\n    color: white;\n"]);return Z=function(){return e},e}var K=q.a.div(Z()),V=q.a.div(G()),X=function(e){function t(){var e,n;Object(j.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(_.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,data:null,organizations:null},n}return Object(I.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"getData",value:function(){var e=this;w.a.get("https://data.austintexas.gov/resource/asyh-u6ja.json?$limit=5000").then(function(t){var n=[],a=[];a.Council=[],a.Organizations=[],t.data.filter(function(e){return n.findIndex(function(t){return t.filer_name===e.filer_name})<=-1&&n.push({filer_name:e.filer_name,form:e.form}),null}),n.sort(function(e,t){return e.filer_name<t.filer_name?-1:e.filer_name>t.filer_name?1:0}),n.filter(function(e){return"C/OH - Candidate/Officeholder Campaign Finance Report"===e.form?a.Council.push(e):a.Organizations.push(e),null}),console.log("Orgs",n),e.setState({loading:!1,data:t.data,organizations:a})}).catch(function(e){console.error(e)})}},{key:"render",value:function(){var e=this;return this.state.loading?r.a.createElement("div",null,r.a.createElement(S,null)):this.state.data?r.a.createElement(r.a.Fragment,null,r.a.createElement(L,{organizations:this.state.organizations}),r.a.createElement(K,null,r.a.createElement(V,null,r.a.createElement(N.a,{exact:!0,path:"/",component:T}),r.a.createElement(N.a,{exact:!0,path:"/council/:org",component:function(t){return r.a.createElement($,Object.assign({},t,{data:e.state.data}))}}),r.a.createElement(N.a,{exact:!0,path:"/about-us",component:x})))):r.a.createElement("div",null,"This is Broken")}}]),t}(a.Component),ee=(n(605),n(607),document.querySelector("#root"));Object(o.render)(r.a.createElement(c.Provider,{store:y},r.a.createElement(i.ConnectedRouter,{history:v},r.a.createElement("div",{className:"App"},r.a.createElement(X,null)))),ee)}},[[348,2,1]]]);
//# sourceMappingURL=main.7b2f207a.chunk.js.map
(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{251:function(e){e.exports={"District 1":[78653,78701,78702,78721,78722,78723,78724,78725,78752,78753,78754],"District 2":[78617,78744,78745,78747,78748],"District 3":[78702,78704,78721,78725,78741,78742,78745],"District 4":[78723,78751,78753,78758],"District 5":[78652,78704,78745,78747,78748],"District 6":[78664,78717,78726,78727,78728,78729,78730,78732,78750],"District 7":[78660,78727,78728,78753,78756,78757,78758,78759],"District 8":[78652,78735,78736,78737,78746,78748,78749],"District 9":[78701,78703,78704,78705,78722,78723,78751],"District 10":[78703,78730,78731,78746,78750,78759],Austin:[78653,78701,78702,78721,78722,78723,78724,78725,78752,78753,78754,78617,78744,78745,78747,78748,78704,78741,78742,78751,78758,78652,78664,78717,78726,78727,78728,78729,78730,78732,78750,78660,78756,78757,78759,78735,78736,78737,78746,78749,78703,78705,78731]}},382:function(e,t,n){e.exports=n(648)},646:function(e,t,n){},648:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(63),l=n(46),o=n(53),c=n(39),s=n(347),u=n(348),m=n.n(u),d=n(54),p={count:0,isIncrementing:!1,isDecrementing:!1},h={open:!0},f=function(){return function(e){e({type:"modal/CHANGE_MODAL"})}},g={filterDates:null},v=function(e){var t=e.dates;return console.log("change filter",t),function(e){e({type:"dates/CHANGE_FILTER_DATES",payload:t})}},E=Object(c.c)({counter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;switch((arguments.length>1?arguments[1]:void 0).type){case"counter/INCREMENT_REQUESTED":return Object(d.a)({},e,{isIncrementing:!0});case"counter/INCREMENT":return Object(d.a)({},e,{count:e.count+1,isIncrementing:!e.isIncrementing});case"counter/DECREMENT_REQUESTED":return Object(d.a)({},e,{isDecrementing:!0});case"counter/DECREMENT":return Object(d.a)({},e,{count:e.count-1,isDecrementing:!e.isDecrementing});default:return e}},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;switch((arguments.length>1?arguments[1]:void 0).type){case"modal/CHANGE_MODAL":return Object(d.a)({},e,{open:!1});default:return e}},dates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"dates/CHANGE_FILTER_DATES":return console.log("hello"),Object(d.a)({},e,{filterDates:t.payload});default:return e}}}),b=m()({basename:"/austin-campaign-finance-expenditures/"}),y=[s.a,Object(o.routerMiddleware)(b)],O=c.d.apply(void 0,[c.a.apply(void 0,y)].concat([])),C=Object(c.e)(Object(o.connectRouter)(b)(E),{},O),j=n(19),_=n(20),D=n(22),k=n(21),S=n(23),w=n(650),P=n(196),A=n.n(P),x=n(205);x.a.initialize("UA-131186037-1");var z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(e){x.a.set(Object(d.a)({page:e},t)),x.a.pageview(e)};return function(t){function a(){return Object(j.a)(this,a),Object(D.a)(this,Object(k.a)(a).apply(this,arguments))}return Object(S.a)(a,t),Object(_.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.location.pathname+this.props.location.search;n(e)}},{key:"componentDidUpdate",value:function(e){var t=e.location.pathname+e.location.search,a=this.props.location.pathname+this.props.location.search;t!==a&&n(a)}},{key:"render",value:function(){return r.a.createElement(e,this.props)}}]),a}(a.Component)},I=n(262),N=n(322),R=n(177),M=function(e){function t(){var e,n;Object(j.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(D.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={open:!0,notes:null},n.getData=function(){A.a.get("https://raw.githubusercontent.com/ZHamburglar/austin-campaign-finance-expenditures/master/RELEASENOTES.md").then(function(e){var t,a,r=e.data.replace(/(\r\n|\n|\r)/g,"").split("### "),i=[];for(t=1;t<r.length;t++){var l=r[t].split("* "),o=Object.assign({});o.version=l[0];var c=[];for(a=1;a<l.length;a++)c.push(l[a]);o.notes=c,i.push(o)}n.setState({notes:i}),console.log("response",e.data,r)}).catch(function(e){console.error(e)})},n.show=function(){n.setState({open:!0})},n.close=function(){n.setState({open:!1})},n}return Object(S.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this.props.open;return this.state.notes?r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{dimmer:"blurring",open:e,onClose:this.props.changeModal},r.a.createElement(I.a.Header,null,"Update Notes"),r.a.createElement(I.a.Content,null,this.state.notes.map(function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(I.a.Description,null,r.a.createElement(N.a,null,"Version ",e.version),e.notes.map(function(t,n){return r.a.createElement("div",{key:e.version+n},r.a.createElement("p",null,"\u2022 ",t))}),r.a.createElement("br",null)))})),r.a.createElement(I.a.Actions,null,r.a.createElement(R.a,{positive:!0,icon:"checkmark",labelPosition:"right",content:"Good to know",onClick:this.close})))):r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{dimmer:"blurring",open:e,onClose:this.props.changeModal},r.a.createElement(I.a.Header,null,"Update Notes"),"Update Notes",r.a.createElement(I.a.Actions,null,r.a.createElement(R.a,{positive:!0,icon:"checkmark",labelPosition:"right",content:"Good to know",onClick:this.close}))))}}]),t}(a.Component),F=Object(l.connect)(function(e){return{open:e.modal.open}},function(e){return Object(c.b)({changeModal:f},e)})(M),L=n(96),T=n.n(L),H=n(29),G=n.n(H),Y=function(e){function t(){return Object(j.a)(this,t),Object(D.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"Button Vote")}}]),t}(a.Component),$=n(43),B=n(44);function U(){var e=Object($.a)(["\n\tfont-size: 80%\n\tbackground-color: white;\n\tcolor: red;\n\n\t&:hover {\n    background: blue;\n  \t}\n"]);return U=function(){return e},e}function J(){var e=Object($.a)(["\n\tfont-size: 50%;\n\tcolor: grey;\n"]);return J=function(){return e},e}function Q(){var e=Object($.a)(["\n\tfont-size: 250%;\n\tcolor: white;\n\ttext-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;\n"]);return Q=function(){return e},e}function V(){var e=Object($.a)(["\n"]);return V=function(){return e},e}function W(){var e=Object($.a)(["\n\tline-height: 250%;\n"]);return W=function(){return e},e}function Z(){var e=Object($.a)(["\n\tdisplay: flex;\n\ttext-align: center;\n\tjustify-content: center;\n"]);return Z=function(){return e},e}function q(){var e=Object($.a)(["\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tflex-direction: column;\n\tcolor: blue;\n\twidth: calc(100% / 3);\n"]);return q=function(){return e},e}function K(){var e=Object($.a)(["\n    display: flex;\n\theight: 50%;\n\toverflow: hidden;\n\tline-height: normal;\n"]);return K=function(){return e},e}var X=B.a.div(K()),ee=B.a.div(q()),te=B.a.div(Z()),ne=B.a.div(W()),ae=B.a.div(V()),re=B.a.div(Q()),ie=B.a.span(J()),le=B.a.a(U()),oe=function(e){function t(){var e,n;Object(j.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(D.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={months:null,monthsString:null,days:null,daysString:null},n}return Object(S.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){this.getTime()}},{key:"getTime",value:function(){var e,t,n,a=G()("2019-11-05").diff(G()(),"milliseconds"),r=G.a.duration(a);r._data.years>0?(e=12*r._data.years+r._data.months,t="Months"):1===r._data.months?(e=r._data.months,t="Month"):(e=r._data.months,t="Months"),n=1===r._data.days?"Day":"Days",this.setState({months:e,monthsString:t,days:r._data.days,daysString:n})}},{key:"render",value:function(){var e=this.props,t=e.contributions,n=e.expenditures,a=(e.loans,e.pledges,e.credit,e.council),i=e.PACS,l=e.individuals,o=e.entities,c=this.state,s=c.months,u=c.monthsString,m=c.days,d=c.daysString;return r.a.createElement(r.a.Fragment,null,r.a.createElement(X,null,r.a.createElement(ee,null,r.a.createElement(re,null,r.a.createElement(T.a,{end:l,delay:.3,duration:2.75}),r.a.createElement(ie,null,"Individuals")),r.a.createElement(re,null,r.a.createElement(T.a,{end:o,delay:.3,duration:2.75}),r.a.createElement(ie,null,"Entities"))),r.a.createElement(ee,null,r.a.createElement(re,null,r.a.createElement(T.a,{end:a,delay:.3,duration:2.75}),r.a.createElement(ie,null,"Council")),r.a.createElement(re,null,r.a.createElement(T.a,{end:i,delay:.3,duration:2.75}),r.a.createElement(ie,null,"PACS"))),r.a.createElement(ee,null,r.a.createElement(te,null,r.a.createElement(ae,null,r.a.createElement("div",null,"Add"),r.a.createElement("div",null,"Something"),r.a.createElement("div",null,"Here"))))),r.a.createElement(X,null,r.a.createElement(ee,null,r.a.createElement(ne,null,r.a.createElement(re,null,r.a.createElement(T.a,{end:n,delay:.3,duration:2.75}),r.a.createElement(ie,null,"Expenditures"))),r.a.createElement(ne,null,r.a.createElement(re,null,r.a.createElement(T.a,{end:t,delay:.3,duration:2.75}),r.a.createElement(ie,null,"Contributions")))),r.a.createElement(ee,null,r.a.createElement(te,null,r.a.createElement(ae,null,r.a.createElement("div",null,"Add"),r.a.createElement("div",null,"Something"),r.a.createElement("div",null,"Here")))),r.a.createElement(ee,null,r.a.createElement("div",null,r.a.createElement(re,null,s,r.a.createElement(ie,null,u)),r.a.createElement(re,null,m,r.a.createElement(ie,null,d)),r.a.createElement("br",null),"until the next election."),r.a.createElement("div",null,r.a.createElement(le,{href:"https://www.votetexas.gov/register-to-vote/"},"Registered to vote?")),r.a.createElement(Y,{name:"kevin"}))))}}]),t}(a.Component),ce=function(e){function t(){var e,n;Object(j.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(D.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,contributions:null,expenditures:null,loans:null,pledges:null,credit:null,council:null,PACS:null,individuals:null,entities:null},n}return Object(S.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){this.filterData(this.props.data,this.props.organizations)}},{key:"filterData",value:function(e,t){var n,a=0,r=0,i=0,l=0,o=0,c=t.Council.length,s=t.Organizations.length,u=new Set,m=new Set;for(n=0;n<e.length;n++)"Contribution"===e[n].transaction_type?a++:"Expenditure"===e[n].transaction_type?r++:"Loan"===e[n].transaction_type?i++:"Pledged Contribution"===e[n].transaction_type?l++:"Credit"===e[n].transaction_type&&o++,"Individual"===e[n].entity?u.add(e[n].transactor_name):"Entity"===e[n].entity&&m.add(e[n].transactor_name);var d=Array.from(u),p=Array.from(m);this.setState({contributions:a,expenditures:r,loans:i,pledges:l,credit:o,council:c,PACS:s,individuals:d.length,entities:p.length})}},{key:"render",value:function(){var e=this.props.open,t=this.state,n=t.contributions,a=t.expenditures,i=t.loans,l=t.pledges,o=t.credit,c=t.council,s=t.PACS,u=t.individuals,m=t.entities;return e?r.a.createElement(r.a.Fragment,null,r.a.createElement(F,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement(oe,{contributions:n,expenditures:a,loans:i,pledges:l,credit:o,council:c,PACS:s,individuals:u,entities:m}))}}]),t}(a.Component),se=Object(l.connect)(function(e){return{open:e.modal.open}},null)(ce),ue=function(e){function t(){return Object(j.a)(this,t),Object(D.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Settings Page"),r.a.createElement("p",null,"Change to settings Page"))}}]),t}(a.Component),me=n(361),de=n.n(me),pe=function(e){function t(){return Object(j.a)(this,t),Object(D.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App-header"},r.a.createElement("div",null,"Loading",r.a.createElement(de.a,{type:"cubes",color:"blue",height:100,width:200})))}}]),t}(a.Component),he=n(186),fe=n(343),ge=function(e){function t(){var e,n;Object(j.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(D.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,name:null,dataRange:null,reports:null,pages:null,activePage:null,pageSize:3},n.handlePaginationChange=function(e,t){var a=t.activePage;return n.setState({activePage:a})},n}return Object(S.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){this.filterData()}},{key:"filterData",value:function(){var e=[],t=new Set;this.props.data.filter(function(e){return t.add(e.report_type+" '"+G()(e.transaction_date).format("YY")),null});var n=this.props.data.map(function(e){return G()(e.transaction_date)}),a=G.a.min(n).format("MM-DD-YYYY"),r=G.a.max(n).format("MM-DD-YYYY");e.push(a,r);var i=Array.from(t),l=Math.ceil(i.length/3),o=this.getNameFormat(this.props.name);this.setState({loading:!1,dataRange:e,reports:i,pages:l,activePage:1,name:o})}},{key:"getNameFormat",value:function(e){var t=e.split(", ");return t.length>1?(console.log("name",t),t[1]+" "+t[0]):e}},{key:"createReportsList",value:function(){var e,t=this.state.pageSize,n=[],a=this.state.activePage*t-t;if(e=this.state.activePage===this.state.pages?this.state.reports.length:this.state.activePage*t,console.log("x",e,"i",a),0===this.state.reports.length)n.push(r.a.createElement(he.a,{key:0},r.a.createElement("p",null,"None")));else if(this.state.activePage===this.state.pages){var i=e-a;for(console.log("j",i);a<e;a++)n.push(r.a.createElement(he.a,{key:a},r.a.createElement("p",null,this.state.reports[a])));for(;i<t;i++)n.push(r.a.createElement(he.a,{key:i},r.a.createElement("p",null," ")))}else for(;a<e;a++)n.push(r.a.createElement(he.a,{key:a},r.a.createElement("p",null,this.state.reports[a])));return r.a.createElement(he.a.Group,null,n)}},{key:"render",value:function(){var e=this.state,t=e.loading,n=e.name,a=e.dataRange,i=e.pages,l=e.activePage;return t?r.a.createElement("div",null,"Loading"):t?r.a.createElement("div",null,"Not Loading"):r.a.createElement("div",{style:{color:"black"}},r.a.createElement(he.a.Group,{raised:!0},r.a.createElement(he.a,null,n),r.a.createElement(he.a,null,r.a.createElement("p",null,"Date Range:")),r.a.createElement(he.a.Group,{horizontal:!0},r.a.createElement(he.a,null,"First: ",a[0]),r.a.createElement(he.a,null,"Last: ",a[1]))),r.a.createElement(he.a.Group,{raised:!0},r.a.createElement(he.a,null,r.a.createElement("p",null,"Reports Included:")),this.createReportsList(),r.a.createElement(fe.a,{activePage:l,onPageChange:this.handlePaginationChange,firstItem:null,lastItem:null,pointing:!0,secondary:!0,totalPages:i})))}}]),t}(a.Component),ve=n(200),Ee=function(e){function t(){var e,n;Object(j.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(D.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,filteredData:null,total:null,mean:null,median:null},n}return Object(S.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){this.filterPie(this.props.data)}},{key:"filterPie",value:function(){var e=[0,0,0,0,0],t=0;this.props.data.filter(function(n){return n.transaction_amount>0&&n.transaction_amount<=100?(t+=parseInt(n.transaction_amount,10),e[0]++):n.transaction_amount>100&&n.transaction_amount<=200?(t+=parseInt(n.transaction_amount,10),e[1]++):n.transaction_amount>200&&n.transaction_amount<349?(t+=parseInt(n.transaction_amount,10),e[2]++):n.transaction_amount>349&&n.transaction_amount<=350?(t+=parseInt(n.transaction_amount,10),e[3]++):n.transaction_amount>350&&(t+=parseInt(n.transaction_amount,10),e[4]++),null});var n=parseFloat(t/this.props.data.length).toFixed(2);this.setState({loading:!1,filteredData:e,total:t,mean:n})}},{key:"render",value:function(){var e=this.state,t=e.filteredData,n=e.total,a=e.mean,i={labels:["$0-$100","$101-$200","$201-$349","$350","$350+"],datasets:[{data:t,backgroundColor:["#FF6384","#36A2EB","#FFCE56","purple","tomato"],hoverBackgroundColor:["#FF6384","#36A2EB","#FFCE56","purple","tomato"]}]};return r.a.createElement("div",{style:{color:"black"}},r.a.createElement(he.a.Group,{raised:!0},r.a.createElement(he.a,null,r.a.createElement("p",null,"Contribution Amount")),r.a.createElement(he.a.Group,{horizontal:!0},r.a.createElement(he.a,null,"Total: $",n),r.a.createElement(he.a,null,"Mean: $",a)),r.a.createElement(ve.a,{data:i,width:80,height:80,options:{legend:{display:!0,position:"bottom",labels:{fontColor:"red"}},tooltips:{enabled:!0}}})))}}]),t}(a.Component),be=n(251),ye=function(e){function t(){var e,n;Object(j.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(D.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,noData:null,filteredData:null},n}return Object(S.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){this.props.data.length?this.filterPie(this.props.data):this.noDataPie(this.props.data)}},{key:"noDataPie",value:function(){this.setState({loading:!1,noData:"There isn't any data"})}},{key:"filterPie",value:function(){var e=[];this.props.data.filter(function(t){var n;if(void 0===t.transactor_zip_code)if(t.transactor_city.length>1){var a=t.transactor_city.split(", ");n=3===a.length?a[2].slice(0,5):2===a.length?a[1].slice(0,5):"Not Categorized"}else n="Not Categorized";else n=t.transactor_zip_code.slice(0,5);if(e.some(function(e){return e.zipCode===n})){var r=e.findIndex(function(e){return e.zipCode===n});e[r].count+=1,e[r].amount=e[r].amount+parseInt(t.transaction_amount,10)}else{var i;i=t.office_sought?t.office_sought:t.office_held?t.office_held:"Austin";var l=Object.assign({});l.zipCode=n,l.count=1,l.amount=parseInt(t.transaction_amount,10),l.district=i,e.push(l)}return null}),e.sort(function(e,t){return e.amount>t.amount?-1:e.amount<t.amount?1:0}),console.log("This?:",this),this.setState({loading:!1,filteredData:e})}},{key:"render",value:function(){var e=this.state,t=e.filteredData,n=e.noData,a=[],i=[],l=[];if(t){var o,c;for(c=t.length<8?t.length:8,o=0;o<c;o++)"undefined"==typeof be[t[o].district]?(i.push(t[o].zipCode),l.push(t[o].amount),a.push("red")):be[t[o].district].includes(parseInt(t[o].zipCode,10))?(i.push(t[o].zipCode),l.push(t[o].amount),a.push("green")):(i.push(t[o].zipCode),l.push(t[o].amount),a.push("red"));var s={labels:i,datasets:[{data:l,backgroundColor:a,hoverBackgroundColor:a}]};return r.a.createElement("div",{ref:this.myDiv,style:{color:"black"}},r.a.createElement(ve.b,{data:s,width:50,height:300,options:{legend:{display:!1},tooltips:{enabled:!0},maintainAspectRatio:!1}}))}return n?r.a.createElement("div",null,"There is no data"):r.a.createElement("div",null,"Loading")}}]),t}(a.Component),Oe=n(330);function Ce(){var e=Object($.a)(["\n    font-size: 18px;\n"]);return Ce=function(){return e},e}var je=B.a.div(Ce()),_e=function(e){function t(){var e,n;Object(j.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(D.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,name:null,pages:null,activePage:null,topContributors:null,pageSize:5},n.handlePaginationChange=function(e,t){var a=t.activePage;return n.setState({activePage:a})},n}return Object(S.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){this.filterData()}},{key:"filterData",value:function(){var e=this.state.pageSize,t=this.props.entity,n=[];this.props.data.filter(function(e){return"Individual"===e.entity&&"Individuals"===t?(n.push(e),!0):"Entity"===e.entity&&"Organizations"===t&&void n.push(e)});var a=n.sort(function(e,t){return t.transaction_amount-e.transaction_amount}).slice(0,20),r=Math.ceil(a.length/e);this.setState({loading:!1,activePage:1,pages:r,topContributors:a})}},{key:"createContributionList",value:function(){var e,t=this.state.pageSize,n=[],a=this.state.activePage*t-t;if(e=this.state.activePage===this.state.pages?this.state.topContributors.length:this.state.activePage*t,0===this.state.topContributors.length)n.push(r.a.createElement(Oe.a.Row,{key:0},r.a.createElement(Oe.a.Cell,null),r.a.createElement(Oe.a.Cell,{textAlign:"right"},"None")));else if(this.state.activePage===this.state.pages){for(var i=e-a;a<e;a++){var l=parseInt(this.state.topContributors[a].transaction_amount,10).toFixed(2);n.push(r.a.createElement(Oe.a.Row,{key:a},r.a.createElement(Oe.a.Cell,null,this.state.topContributors[a].transactor_name),r.a.createElement(Oe.a.Cell,{textAlign:"right"},"$",l)))}for(;i<t;i++)n.push(r.a.createElement(Oe.a.Row,{key:i},r.a.createElement(Oe.a.Cell,null),r.a.createElement(Oe.a.Cell,{textAlign:"right"},"None")))}else for(;a<e;a++){var o=parseInt(this.state.topContributors[a].transaction_amount,10).toFixed(2);n.push(r.a.createElement(Oe.a.Row,{key:a},r.a.createElement(Oe.a.Cell,null,this.state.topContributors[a].transactor_name),r.a.createElement(Oe.a.Cell,{textAlign:"right"},"$",o)))}return r.a.createElement(Oe.a.Body,null,n)}},{key:"render",value:function(){var e=this.state,t=e.loading,n=e.pages,a=e.activePage,i=this.props.entity;return t?r.a.createElement("div",null,"Loading"):t?r.a.createElement("div",null,"Not Loading"):r.a.createElement("div",{style:{color:"black"}},r.a.createElement(he.a.Group,{raised:!0},r.a.createElement(he.a,null,r.a.createElement("p",null,"Top Contributing ",i)),r.a.createElement(he.a.Group,null,r.a.createElement(je,null,r.a.createElement(Oe.a,{stackable:!0,selectable:!0,fixed:!0,singleLine:!0},r.a.createElement(Oe.a.Header,null,r.a.createElement(Oe.a.Row,null,r.a.createElement(Oe.a.HeaderCell,{className:"twelve wide"},"Contributor"),r.a.createElement(Oe.a.HeaderCell,{textAlign:"right"},"Amount"))),this.createContributionList()))),r.a.createElement(fe.a,{activePage:a,onPageChange:this.handlePaginationChange,firstItem:null,lastItem:null,pointing:!0,secondary:!0,totalPages:n})))}}]),t}(a.Component),De=function(e){function t(){var e,n;Object(j.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(D.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,filteredData:null,zipCodes:null,name:null},n}return Object(S.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){this.filterData(this.props.match.params.org)}},{key:"componentWillReceiveProps",value:function(e){console.log("props change??",e.selectedOrganization)}},{key:"filterData",value:function(e){var t=this.props.filterDates,n=[];n.Contributions=[],n.Expenditures=[],this.props.data.filter(function(t){return t.filer_name===e&&"Contribution"===t.transaction_type?n.Contributions.push(t):t.filer_name===e&&"Expenditure"===t.transaction_type&&n.Expenditures.push(t),null}),t?this.setState({name:this.props.match.params.org},this.filterByDate(n)):this.setState({name:this.props.match.params.org,loading:!1,filteredData:n.Contributions})}},{key:"filterByDate",value:function(e){console.log("huh?");var t=this.props.filterDates,n=[];e.Contributions.filter(function(e){return G()(e.transaction_date).isSameOrAfter(t[0])&&G()(e.transaction_date).isSameOrBefore(t[1])&&n.push(e),null}),this.setState({loading:!1,filteredData:n})}},{key:"createZipCodeList",value:function(e){var t=[];this.props.data.filter(function(n){var a;if(n.filer_name===e&&"Contribution"===n.transaction_type)if(a=void 0===n.transactor_zip_code?"Not Categorized":n.transactor_zip_code.slice(0,5),t.some(function(e){return e.zipCode===a})){var r=t.findIndex(function(e){return e.zipCode===a});t[r].count+=1,t[r].amount=t[r].amount+parseInt(n.transaction_amount,10)}else{var i=Object.assign({});i.zipCode=a,i.count=1,i.amount=parseInt(n.transaction_amount,10),t.push(i)}return null}),this.setState({loading:!1,zipCodes:t})}},{key:"render",value:function(){var e=this.state,t=e.filteredData,n=e.name;return this.state.loading?r.a.createElement("div",{className:"App"},r.a.createElement(pe,null)):t?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"one-third column"},r.a.createElement(ge,{data:this.state.filteredData,name:n})),r.a.createElement("div",{className:"one-third column"},r.a.createElement(Ee,{data:this.state.filteredData})),r.a.createElement("div",{className:"one-third column"},r.a.createElement(Ee,{data:this.state.filteredData}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"one-third column"},r.a.createElement(_e,{data:this.state.filteredData,entity:"Individuals"})),r.a.createElement("div",{className:"one-third column"},r.a.createElement(_e,{data:this.state.filteredData,entity:"Organizations"})),r.a.createElement("div",{className:"one-third column"},r.a.createElement(ye,{data:this.state.filteredData})))):r.a.createElement(r.a.Fragment,null,"Something has gone wrong.")}}]),t}(a.Component),ke=Object(l.connect)(function(e){return{filterDates:e.dates.filterDates}},null)(De),Se=function(e){function t(){return Object(j.a)(this,t),Object(D.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"This is the person page.")}}]),t}(a.Component),we=n(195),Pe=n(364),Ae=n.n(Pe),xe=n(189),ze=n(331),Ie=n(365),Ne=n(27),Re=n.n(Ne),Me=n(335),Fe=function(e){function t(){var e,n;Object(j.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(D.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={searchObject:null},n.resetComponent=function(){return n.setState({isLoading:!1,results:[],value:""})},n.handleResultSelect=function(e,t){var a=t.result;console.log("pressed?",e,a,a.org),n.setState({value:a.title}),n.props.changePage(a.org,a.title)},n.handleSearchChange=function(e,t){var a=t.value;n.setState({isLoading:!0,value:a}),setTimeout(function(){if(n.state.value.length<1)return n.resetComponent();var e=new RegExp(Re.a.escapeRegExp(n.state.value),"i"),t=function(t){return e.test(t.title)},a=Re.a.reduce(n.state.searchObject,function(e,n,a){var r=Re.a.filter(n.results,t);return r.length&&(e[a]={name:a,results:r}),e},{});n.setState({isLoading:!1,results:a})},300)},n}return Object(S.a)(t,e),Object(_.a)(t,[{key:"componentWillMount",value:function(){this.loadingResults(),this.resetComponent()}},{key:"loadingResults",value:function(){var e=Object.assign({name:"offices",results:this.props.office},{}),t=Object.assign({name:"contributor",results:this.props.contributors},{}),n=Object.assign({name:"Council",results:this.props.council},{}),a=Object.assign({name:"PACS",results:this.props.pacs},{}),r=Object.assign({Council:n,PAC:a,office:e,contributor:t});console.log("search",r),this.setState({searchObject:r})}},{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.value,a=e.results;return r.a.createElement(Me.a,Object.assign({category:!0,loading:t,onResultSelect:this.handleResultSelect,onSearchChange:Re.a.debounce(this.handleSearchChange,500,{leading:!0}),results:a,value:n},this.props))}}]),t}(a.Component),Le=Object(l.connect)(null,function(e){return Object(c.b)({changePage:function(e,t){return Object(o.push)({pathname:"/"+e+"/"+t,state:{hello:"state value"}})}},e)})(Fe),Te=function(e){function t(){var e,n;Object(j.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(D.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,searchinput:"",selectedOrganization:"",datesRange:""},n.handleSearchChange=function(e){n.setState({searchinput:e.target.value})},n.handleOrgChange=function(e,t){var a,r=n.state.datesRange.split(" - ");r.length>0&&r[0].length>0&&(a=Ae.a.stringify({from:r[0],to:r[1]})),n.props.changeOrgPage(t.value,a)},n.handleChange=function(e,t){var a=t.name,r=t.value,i=r.split(" - ");n.state.hasOwnProperty(a)&&n.setState(Object(we.a)({},a,r)),n.props.changeFilterDate({dates:i})},n}return Object(S.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(xe.a,{fixed:"top",borderless:!0,inverted:!0,className:"Navbar"},r.a.createElement(xe.a.Item,{as:"a",header:!0},"Austin Political Tracker"),r.a.createElement(xe.a.Item,{as:"a",onClick:this.props.changeHomePage},"Home"),r.a.createElement(ze.a,{item:!0,simple:!0,text:"Council/PACS"},r.a.createElement(ze.a.Menu,null,r.a.createElement(ze.a.Item,null,r.a.createElement("i",{className:"dropdown icon"}),r.a.createElement("span",{className:"text"},"Office Holders"),r.a.createElement(ze.a.Menu,null,this.props.organizations.Council.map(function(t){return r.a.createElement(ze.a.Item,{onClick:e.handleOrgChange,key:t.filer_name,value:t.filer_name},t.filer_name)}))),r.a.createElement(ze.a.Item,null,r.a.createElement("i",{className:"dropdown icon"}),r.a.createElement("span",{className:"text"},"PACS"),r.a.createElement(ze.a.Menu,null,this.props.organizations.Organizations.map(function(t){return r.a.createElement(ze.a.Item,{onClick:e.handleOrgChange,key:t.filer_name,value:t.filer_name},t.filer_name)}))))),r.a.createElement(xe.a.Item,null,r.a.createElement(Le,{office:this.props.office,contributors:this.props.contributors,pacs:this.props.newPACS,council:this.props.newCouncil})),r.a.createElement(ze.a,{item:!0,simple:!0,icon:"filter"},r.a.createElement(ze.a.Menu,null,r.a.createElement(ze.a.Item,null,r.a.createElement(Ie.DatesRangeInput,{name:"datesRange",placeholder:"From - To",dateFormat:"MM-DD-YYYY",minDate:"01-10-2016",value:this.state.datesRange,iconPosition:"left",onChange:this.handleChange})))),r.a.createElement(xe.a.Item,{as:"a",position:"right",onClick:this.props.changeSettingPage},"Settings")))}}]),t}(a.Component),He=Object(l.connect)(null,function(e){return Object(c.b)({changeHomePage:function(){return Object(o.push)({pathname:"/",search:"?filter=homepagefilter"})},changeSettingPage:function(){return Object(o.push)("/settings")},changeOrgPage:function(e,t){return Object(o.push)({pathname:"/council/"+e,search:t,state:{hello:"state value"}})},changeFilterDate:v},e)})(Te);function Ge(){var e=Object($.a)(["\n    background-color: rgba(66,87,102, .8);\n\theight: 95%;\n    width: 95%;\n"]);return Ge=function(){return e},e}function Ye(){var e=Object($.a)(["\n\tposition: absolute;\n\tmargin-top: 5vh;\n\twidth: 100%;\n    height: 95%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    font-size: calc(10px + 2vmin);\n    color: white;\n"]);return Ye=function(){return e},e}var $e=B.a.div(Ye()),Be=B.a.div(Ge()),Ue=function(e){function t(){var e,n;Object(j.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(D.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,data:null,organizations:null,contributors:null,office:null,newPACS:null,newCouncil:null},n}return Object(S.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"getData",value:function(){var e=this;A.a.get("https://data.austintexas.gov/resource/asyh-u6ja.json?$limit=9000").then(function(t){var n=[],a=[],r=new Set,i=new Set;a.Council=[],a.Organizations=[],t.data.filter(function(e){return n.findIndex(function(t){return t.filer_name===e.filer_name})<=-1&&n.push({filer_name:e.filer_name,form:e.form}),null}),t.data.filter(function(e){return"Individual"===e.entity?r.add(e.transactor_name):"Entity"===e.entity&&i.add(e.transactor_name),null}),n.sort(function(e,t){return e.filer_name<t.filer_name?-1:e.filer_name>t.filer_name?1:0}),n.filter(function(e){return"C/OH - Candidate/Officeholder Campaign Finance Report"===e.form?a.Council.push(e):a.Organizations.push(e),null});var l=Array.from(r),o=Array.from(i),c=l.map(function(e){return{title:e,org:"person"}}),s=o.map(function(e){return{title:e,org:"council"}}),u=a.Council.map(function(e){return{title:e.filer_name,org:"council"}}),m=a.Organizations.map(function(e){return{title:e.filer_name,org:"council"}});e.setState({loading:!1,data:t.data,organizations:a,contributors:c,office:s,newPACS:m,newCouncil:u})}).catch(function(e){console.error(e)})}},{key:"render",value:function(){var e=this;return this.state.loading?r.a.createElement("div",null,r.a.createElement(pe,null)):this.state.data?r.a.createElement(r.a.Fragment,null,r.a.createElement(He,{organizations:this.state.organizations,newPACS:this.state.newPACS,newCouncil:this.state.newCouncil,office:this.state.office,contributors:this.state.contributors}),r.a.createElement($e,null,r.a.createElement(Be,null,r.a.createElement(w.a,{exact:!0,path:"/",component:z(function(t){return r.a.createElement(se,Object.assign({},t,{data:e.state.data,organizations:e.state.organizations}))})}),r.a.createElement(w.a,{exact:!0,path:"/council/:org",component:z(function(t){return r.a.createElement(ke,Object.assign({},t,{data:e.state.data}))})}),r.a.createElement(w.a,{exact:!0,path:"/person/:user",component:z(function(t){return r.a.createElement(Se,Object.assign({},t,{data:e.state.data}))})}),r.a.createElement(w.a,{exact:!0,path:"/settings",component:z(ue)})))):r.a.createElement("div",null,"This is Broken! Please Refresh!")}}]),t}(a.Component),Je=(n(644),n(646),document.querySelector("#root"));Object(i.render)(r.a.createElement(l.Provider,{store:C},r.a.createElement(o.ConnectedRouter,{history:b},r.a.createElement("div",{className:"App"},r.a.createElement(Ue,null)))),Je)}},[[382,2,1]]]);
//# sourceMappingURL=main.89449ce1.chunk.js.map